================================================================================
X-RAY MACHINE REVIEW FORM - FIREBASE HOSTING SETUP INSTRUCTIONS
================================================================================

This guide will help you set up and deploy a static HTML form that loads
questions from a CSV file on Firebase Hosting.

================================================================================
SECTION 1: PREPARING YOUR FILES
================================================================================

STEP 1.1: Export the CSV File from Excel
-----------------------------------------
1. Open your Excel file: Xray_Evaluation_Questions_Simple.xlsx
2. Click on the "Simple Evaluation" sheet tab at the bottom
3. Go to File → Save As
4. Choose "CSV (Comma delimited) (*.csv)" as the file type
5. Save the file as: Xray_Evaluation_Questions_Simple.csv
6. Click "Yes" if Excel warns about losing features

IMPORTANT: The CSV must have these exact column headers:
- What it's about
- What to check
- Your rating question (0–5)
- BullsEye machine (what the papers say)
- Aimed machine (what the papers say)
- GE machine (what the papers say)

STEP 1.2: Verify Your Files
----------------------------
Make sure you have these two files ready:
✓ index.html (the form file provided)
✓ Xray_Evaluation_Questions_Simple.csv (exported from Excel)


================================================================================
SECTION 2: SETTING UP FIREBASE HOSTING
================================================================================

STEP 2.1: Install Firebase CLI (One-time setup)
------------------------------------------------
1. Open Command Prompt (Windows) or Terminal (Mac/Linux)
2. Install Node.js if you don't have it:
   - Download from: https://nodejs.org/
   - Install the LTS (Long Term Support) version
3. Install Firebase CLI by running:
   npm install -g firebase-tools
4. Verify installation:
   firebase --version

STEP 2.2: Create Firebase Project (One-time setup)
---------------------------------------------------
1. Go to: https://console.firebase.google.com/
2. Click "Add project" or "Create a project"
3. Enter a project name (e.g., "xray-review-form")
4. Follow the setup wizard (you can disable Google Analytics)
5. Click "Create project"

STEP 2.3: Initialize Firebase in Your Folder
---------------------------------------------
1. Create a new folder on your computer (e.g., "xray-form")
2. Copy these files into that folder:
   - index.html
   - Xray_Evaluation_Questions_Simple.csv
3. Open Command Prompt/Terminal
4. Navigate to your folder:
   cd C:\path\to\your\xray-form
5. Login to Firebase:
   firebase login
   (This will open a browser - sign in with your Google account)
6. Initialize Firebase Hosting:
   firebase init hosting
7. Answer the setup questions:
   - Select your Firebase project from the list
   - What do you want to use as your public directory? → Type: public
   - Configure as a single-page app? → Type: N (No)
   - Set up automatic builds? → Type: N (No)

STEP 2.4: Set Up the Public Folder
-----------------------------------
After running "firebase init", you'll have a new "public" folder.
1. Move your files into the "public" folder:
   - Move index.html → into public folder
   - Move Xray_Evaluation_Questions_Simple.csv → into public folder
2. Delete the default index.html that Firebase created (if it exists)

Your folder structure should now look like this:
xray-form/
├── public/
│   ├── index.html
│   └── Xray_Evaluation_Questions_Simple.csv
├── firebase.json
└── .firebaserc


================================================================================
SECTION 3: DEPLOYING YOUR FORM
================================================================================

STEP 3.1: Test Locally First
-----------------------------
Before deploying online, test the form on your computer:
1. In Command Prompt/Terminal, make sure you're in your project folder
2. Run:
   firebase serve
3. Open your browser and go to: http://localhost:5000
4. The form should load and display questions from your CSV
5. Press Ctrl+C in the terminal to stop the local server

STEP 3.2: Deploy to Firebase Hosting
-------------------------------------
Once testing looks good:
1. In Command Prompt/Terminal, run:
   firebase deploy
2. Wait for deployment to complete (usually 30-60 seconds)
3. Firebase will show you a URL like:
   https://your-project-name.web.app
4. Open that URL in your browser to see your live form!

STEP 3.3: Share Your Form
--------------------------
- Copy the URL that Firebase provided
- Share it with anyone who needs to fill out the form
- The form works on computers, tablets, and phones


================================================================================
SECTION 4: UPDATING QUESTIONS LATER
================================================================================

STEP 4.1: Update the CSV File
------------------------------
1. Open your Excel file: Xray_Evaluation_Questions_Simple.xlsx
2. Make changes to the "Simple Evaluation" sheet:
   - Add new rows for new questions
   - Edit existing questions
   - Modify machine specifications
3. Save and export as CSV again (same filename):
   Xray_Evaluation_Questions_Simple.csv

STEP 4.2: Re-deploy Updated Form
---------------------------------
1. Copy the new CSV file into the public folder (replace the old one)
2. In Command Prompt/Terminal, run:
   firebase deploy
3. Wait for deployment to finish
4. Refresh your browser - the form will show updated questions!

NOTE: You do NOT need to edit index.html to update questions.
      Just update the CSV and re-deploy.


================================================================================
SECTION 5: TROUBLESHOOTING
================================================================================

PROBLEM: Form shows "Loading..." but never displays questions
--------------------------------------------------------------
SOLUTION:
- Check that Xray_Evaluation_Questions_Simple.csv is in the public folder
- Verify the CSV has the correct column headers (see Step 1.1)
- Open browser Developer Tools (F12), check Console tab for errors
- Make sure you're accessing via HTTP/HTTPS (not opening file:// directly)

PROBLEM: Questions are missing or display incorrectly
------------------------------------------------------
SOLUTION:
- Re-export the CSV from Excel (use "CSV (Comma delimited)")
- Make sure there are no empty rows in your CSV
- Check that all required columns have data
- Verify CSV encoding is UTF-8 (open in Notepad and Save As UTF-8)

PROBLEM: Form won't load locally (localhost:5000 not working)
--------------------------------------------------------------
SOLUTION:
- Make sure you ran "firebase serve" in the correct folder
- Check that port 5000 isn't being used by another program
- Try a different port: firebase serve --port 8080
- Verify Node.js and Firebase CLI are installed correctly

PROBLEM: Changes don't appear after deploying
----------------------------------------------
SOLUTION:
- Clear your browser cache (Ctrl+Shift+Delete)
- Do a hard refresh (Ctrl+F5 on Windows, Cmd+Shift+R on Mac)
- Wait 1-2 minutes for Firebase CDN to update
- Check that you copied files to the public folder, not the root

PROBLEM: "firebase: command not found"
---------------------------------------
SOLUTION:
- Reinstall Firebase CLI: npm install -g firebase-tools
- Close and reopen Command Prompt/Terminal
- On Mac/Linux, you might need: sudo npm install -g firebase-tools

PROBLEM: CSV file has special characters that don't display correctly
----------------------------------------------------------------------
SOLUTION:
- Save Excel file as "CSV UTF-8 (Comma delimited)" instead of regular CSV
- Open the CSV in Notepad, go to File → Save As → Encoding: UTF-8


================================================================================
SECTION 6: CUSTOMIZATION OPTIONS
================================================================================

Change the CSV File Name:
-------------------------
If you want to use a different CSV filename:
1. Open index.html in a text editor
2. Find this line (around line 600):
   const CSV_FILE_NAME = 'Xray_Evaluation_Questions_Simple.csv';
3. Change the filename to your new CSV name
4. Save index.html and re-deploy

Change Machine Names:
---------------------
To change machine names shown in the form:
1. Open index.html in a text editor
2. Find the MACHINES array (around line 614):
   const MACHINES = [
     { id: 'bullseye', name: 'BullsEye – SG Jumong + DRTECH', colorClass: 'bullseye' },
     { id: 'aimed', name: 'Aimed – Carestream Horizon + Trimax', colorClass: 'aimed' },
     { id: 'ge', name: 'GE – Definium Pace Select + FlashPad', colorClass: 'ge' }
   ];
3. Edit the "name" values
4. Do NOT change "id" or "colorClass" values
5. Save and re-deploy

Change CSV Column Headers:
--------------------------
If your CSV has different column headers:
1. Open index.html in a text editor
2. Find the CSV_COLUMNS object (around line 608):
   const CSV_COLUMNS = {
     CATEGORY: 'What it\'s about',
     CRITERIA: 'What to check',
     // etc...
   };
3. Update the values to match your CSV headers exactly
4. Keep the keys (CATEGORY, CRITERIA, etc.) the same
5. Save and re-deploy


================================================================================
SECTION 7: IMPORTANT NOTES
================================================================================

✓ This is a STATIC website - no database or backend server
✓ Form submissions are currently logged to browser console only
✓ To save responses, you'll need to add backend integration (see Section 8)
✓ The form must be accessed via HTTP/HTTPS, not opened as a local file
✓ All processing happens in the user's browser
✓ The CSV file is downloaded fresh each time someone opens the form
✓ Changes to CSV take effect immediately after deployment


================================================================================
SECTION 8: FUTURE IMPROVEMENTS
================================================================================

The current form is fully functional but only logs data to the browser console.
Here are ways to enhance it:

1. SAVE RESPONSES TO FIREBASE FIRESTORE
   - Add Firebase Firestore to store form submissions in a database
   - Allows you to view and export all responses later
   - Requires adding Firebase SDK and authentication

2. EXPORT RESPONSES AS CSV/EXCEL
   - Add a download button to export filled form as CSV
   - Useful for offline analysis or record-keeping
   - Can be implemented with JavaScript only

3. EMAIL NOTIFICATIONS
   - Send an email when someone submits a form
   - Requires backend service (Firebase Functions, SendGrid, etc.)

4. FORM VALIDATION ENHANCEMENTS
   - Add more specific validation rules
   - Show warning if questions are skipped
   - Add confirmation before submission

5. MULTI-PAGE FORM
   - Break long forms into multiple pages
   - Add "Next" and "Previous" buttons
   - Save progress between sessions

6. AUTHENTICATION
   - Require users to login before filling form
   - Track who submitted which responses
   - Requires Firebase Authentication setup

7. RESPONSE DASHBOARD
   - Create admin page to view all submissions
   - Add charts and statistics
   - Compare responses across machines

For help implementing these features, consult:
- Firebase Documentation: https://firebase.google.com/docs
- Firebase Firestore Guide: https://firebase.google.com/docs/firestore
- Firebase Functions: https://firebase.google.com/docs/functions


================================================================================
CONTACT & SUPPORT
================================================================================

For technical issues with Firebase:
→ Firebase Support: https://firebase.google.com/support

For HTML/JavaScript questions:
→ Stack Overflow: https://stackoverflow.com/

For CSV formatting help:
→ Check your Excel export settings
→ Use UTF-8 encoding
→ Ensure all headers match exactly


================================================================================
QUICK REFERENCE COMMANDS
================================================================================

Login to Firebase:
  firebase login

Initialize new project:
  firebase init hosting

Test locally:
  firebase serve

Deploy to production:
  firebase deploy

View deployment URL:
  firebase open hosting:site

================================================================================
END OF INSTRUCTIONS
================================================================================
